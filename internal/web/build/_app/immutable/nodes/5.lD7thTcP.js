import{s as V,d as u,i as x,b as g,m as L,o as m,p as j,g as M,c as p,e as k,q as C,j as R,h as _,u as N,n as v,a as O,f as S,t as A}from"../chunks/CRWUcP0W.js";import{S as B,i as F,t as T,a as $,c as U,d as z,m as G,b as J,e as K,g as Q}from"../chunks/BcwE73Mx.js";import{a as W}from"../chunks/D3Pj8aXw.js";import{P as X}from"../chunks/BzgcPs6U.js";function Y(l){let e,s;return e=new X({props:{requests:l[0]}}),e.$on("action",l[3]),{c(){K(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){G(e,t,n),s=!0},p(t,n){const a={};n&1&&(a.requests=t[0]),e.$set(a)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),s=!1},d(t){z(e,t)}}}function Z(l){let e,s='<div class="text-4xl mb-4">âœ…</div> <h3 class="text-lg font-medium text-gray-900">No pending requests</h3> <p class="mt-2 text-sm text-gray-500">All elevation requests have been handled.</p>';return{c(){e=_("div"),e.innerHTML=s,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),C(e)!=="svelte-123wday"&&(e.innerHTML=s),this.h()},h(){m(e,"class","card p-12 text-center")},m(t,n){x(t,e,n)},p:v,i:v,o:v,d(t){t&&u(e)}}}function ee(l){let e,s,t;return{c(){e=_("div"),s=_("p"),t=A(l[2]),this.h()},l(n){e=p(n,"DIV",{class:!0});var a=k(e);s=p(a,"P",{class:!0});var d=k(s);t=S(d,l[2]),d.forEach(u),a.forEach(u),this.h()},h(){m(s,"class","text-red-700"),m(e,"class","card p-4 bg-red-50 border-red-200")},m(n,a){x(n,e,a),g(e,s),g(s,t)},p(n,a){a&4&&O(t,n[2])},i:v,o:v,d(n){n&&u(e)}}}function te(l){let e,s='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"></div>';return{c(){e=_("div"),e.innerHTML=s,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),C(e)!=="svelte-18msshe"&&(e.innerHTML=s),this.h()},h(){m(e,"class","flex items-center justify-center py-12")},m(t,n){x(t,e,n)},p:v,i:v,o:v,d(t){t&&u(e)}}}function se(l){let e,s,t,n,a="Elevation Requests",d,c,D="Refresh",E,o,i,y,w,H;const I=[te,ee,Z,Y],f=[];function P(r,b){return r[1]?0:r[2]?1:r[0].length===0?2:3}return o=P(l),i=f[o]=I[o](l),{c(){e=R(),s=_("div"),t=_("div"),n=_("h1"),n.textContent=a,d=R(),c=_("button"),c.textContent=D,E=R(),i.c(),this.h()},l(r){j("svelte-d66x24",document.head).forEach(u),e=M(r),s=p(r,"DIV",{class:!0});var h=k(s);t=p(h,"DIV",{class:!0});var q=k(t);n=p(q,"H1",{class:!0,"data-svelte-h":!0}),C(n)!=="svelte-1ubof34"&&(n.textContent=a),d=M(q),c=p(q,"BUTTON",{class:!0,"data-svelte-h":!0}),C(c)!=="svelte-5quloc"&&(c.textContent=D),q.forEach(u),E=M(h),i.l(h),h.forEach(u),this.h()},h(){document.title="Requests - OCM",m(n,"class","text-2xl font-bold text-gray-900"),m(c,"class","btn btn-secondary"),m(t,"class","flex items-center justify-between"),m(s,"class","space-y-6")},m(r,b){x(r,e,b),x(r,s,b),g(s,t),g(t,n),g(t,d),g(t,c),g(s,E),f[o].m(s,null),y=!0,w||(H=L(c,"click",l[3]),w=!0)},p(r,[b]){let h=o;o=P(r),o===h?f[o].p(r,b):(Q(),T(f[h],1,1,()=>{f[h]=null}),U(),i=f[o],i?i.p(r,b):(i=f[o]=I[o](r),i.c()),$(i,1),i.m(s,null))},i(r){y||($(i),y=!0)},o(r){T(i),y=!1},d(r){r&&(u(e),u(s)),f[o].d(),w=!1,H()}}}function ne(l,e,s){let t=[],n=!0,a="";N(async()=>{await d()});async function d(){s(1,n=!0),s(2,a="");try{s(0,t=await W.listPendingRequests())}catch(c){s(2,a=c instanceof Error?c.message:"Failed to load requests")}finally{s(1,n=!1)}}return[t,n,a,d]}class ie extends B{constructor(e){super(),F(this,e,ne,se,V,{})}}export{ie as component};
