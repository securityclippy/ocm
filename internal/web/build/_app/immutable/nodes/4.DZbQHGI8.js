import{e as F,a as i,f as u,s as _,t as Ae}from"../chunks/-E6DMqgS.js";import{i as mt}from"../chunks/BAracPGd.js";import{p as gt,o as ht,Q as yt,R as ft,f as Ke,a as xt,e as bt,s as o,b as r,$ as _t,c as a,r as t,g as e,u as l,m as f,t as C,T as Tt,U as kt,V as Ve,W as At,X as Be}from"../chunks/Buijd9Qj.js";import{i as T}from"../chunks/DE4dvVIV.js";import{e as ge,i as he,r as X,s as Z}from"../chunks/oVlz52KM.js";import{h as wt,a as we}from"../chunks/DE3KHp1P.js";import{s as Ct}from"../chunks/CfIhoGA4.js";import{a as je,b as re}from"../chunks/CRaRLyRB.js";import{b as Et}from"../chunks/CXo1EzCa.js";const We=[{id:"discord",name:"Discord",category:"channel",description:"Discord bot for DMs and server channels",docsUrl:"https://docs.openclaw.ai/channels/discord",fields:[{name:"token",label:"Bot Token",envVar:"DISCORD_BOT_TOKEN",type:"password",placeholder:"MTIz...",required:!0,helpText:"From Discord Developer Portal ‚Üí Bot ‚Üí Token"}],elevationConfig:{readOnly:!1,defaultTTL:"24h"}},{id:"telegram",name:"Telegram",category:"channel",description:"Telegram bot via BotFather",docsUrl:"https://docs.openclaw.ai/channels/telegram",fields:[{name:"botToken",label:"Bot Token",envVar:"TELEGRAM_BOT_TOKEN",type:"password",placeholder:"123456:ABC-DEF...",required:!0,helpText:"From @BotFather on Telegram"}],elevationConfig:{readOnly:!1,defaultTTL:"24h"}},{id:"slack",name:"Slack (Bot App)",category:"channel",description:"Slack bot with socket mode",docsUrl:"https://docs.openclaw.ai/channels/slack",setupInstructions:`1. Go to api.slack.com/apps ‚Üí Create New App ‚Üí From scratch
2. Enable Socket Mode (left sidebar) ‚Üí toggle ON
3. Basic Information ‚Üí App-Level Tokens ‚Üí Generate Token
   - Add scope: connections:write
   - Copy the App Token (xapp-...)
4. OAuth & Permissions ‚Üí Add bot scopes:
   - channels:history, channels:read, chat:write
   - reactions:read, reactions:write, users:read
   - (add more as needed from the docs)
5. Install to Workspace ‚Üí Copy Bot Token (xoxb-...)
6. Optional: Add User Token Scopes for expanded read access
   - Reinstall app ‚Üí Copy User Token (xoxp-...)
7. Event Subscriptions ‚Üí Enable ‚Üí Subscribe to:
   - message.channels, message.groups, message.im
   - app_mention, reaction_added
8. App Home ‚Üí Enable Messages Tab for DMs`,fields:[{name:"appToken",label:"App Token",envVar:"SLACK_APP_TOKEN",type:"password",placeholder:"xapp-1-...",required:!0,helpText:"Basic Information ‚Üí App-Level Tokens (connections:write scope)"},{name:"botToken",label:"Bot Token",envVar:"SLACK_BOT_TOKEN",type:"password",placeholder:"xoxb-...",required:!0,helpText:"OAuth & Permissions ‚Üí Bot User OAuth Token"},{name:"userToken",label:"User Token (optional)",envVar:"SLACK_USER_TOKEN",type:"password",placeholder:"xoxp-...",required:!1,helpText:"OAuth & Permissions ‚Üí User OAuth Token (for history, pins, reactions, search)"}],elevationConfig:{readOnly:!1,defaultTTL:"24h"}},{id:"slack-personal",name:"Slack (Personal Token)",category:"integration",description:"Long-lived token to access Slack as yourself",docsUrl:"https://docs.openclaw.ai/channels/slack",setupInstructions:`Create a minimal personal app to get a long-lived user token:

1. Go to api.slack.com/apps ‚Üí Create New App ‚Üí From scratch
2. Name it anything (e.g., "My Personal Access")
3. OAuth & Permissions ‚Üí User Token Scopes ‚Üí Add these:
   - channels:history, channels:read (public channels)
   - groups:history, groups:read (private channels)
   - im:history, im:read (DMs)
   - mpim:history, mpim:read (group DMs)
   - users:read (user info)
   - search:read (search messages)
   - files:read (attachments)
4. Install to Workspace (top of OAuth page)
5. Copy the User OAuth Token (xoxp-...)

This token is long-lived and won't expire!
No bot needed - this acts as YOU.

---
Alternative: Browser token (short-lived, expires on logout)
- DevTools ‚Üí Application ‚Üí Cookies ‚Üí copy "d" (xoxd-...)
- Console: JSON.parse(localStorage.localConfig_v2).teams[...].token (xoxc-...)`,fields:[{name:"userToken",label:"User Token",envVar:"SLACK_USER_TOKEN",type:"password",placeholder:"xoxp-... (recommended) or xoxc-...",required:!0,helpText:"xoxp- from OAuth app (long-lived) or xoxc- from browser (expires)"},{name:"cookie",label:"Cookie (only for xoxc tokens)",envVar:"SLACK_COOKIE",type:"password",placeholder:"xoxd-...",required:!1,helpText:"Required only if using browser xoxc- token"}],elevationConfig:{readOnly:!1,defaultTTL:"4h"}},{id:"openrouter",name:"OpenRouter",category:"provider",description:"Access to multiple LLM providers via OpenRouter",docsUrl:"https://openrouter.ai/docs",fields:[{name:"apiKey",label:"API Key",envVar:"OPENROUTER_API_KEY",type:"password",placeholder:"sk-or-...",required:!0}],elevationConfig:{readOnly:!0}},{id:"anthropic",name:"Anthropic",category:"provider",description:"Direct access to Claude models",docsUrl:"https://docs.anthropic.com",fields:[{name:"apiKey",label:"API Key",envVar:"ANTHROPIC_API_KEY",type:"password",placeholder:"sk-ant-...",required:!0}],elevationConfig:{readOnly:!0}},{id:"openai",name:"OpenAI",category:"provider",description:"Access to GPT models",docsUrl:"https://platform.openai.com/docs",fields:[{name:"apiKey",label:"API Key",envVar:"OPENAI_API_KEY",type:"password",placeholder:"sk-...",required:!0}],elevationConfig:{readOnly:!0}},{id:"groq",name:"Groq",category:"provider",description:"Fast inference with Groq",docsUrl:"https://console.groq.com/docs",fields:[{name:"apiKey",label:"API Key",envVar:"GROQ_API_KEY",type:"password",placeholder:"gsk_...",required:!0}],elevationConfig:{readOnly:!0}},{id:"brave",name:"Brave Search",category:"tool",description:"Web search via Brave Search API",docsUrl:"https://docs.openclaw.ai/brave-search",fields:[{name:"apiKey",label:"API Key",envVar:"BRAVE_API_KEY",type:"password",placeholder:"BSA...",required:!0,helpText:"From brave.com/search/api (use Data for Search plan)"}],elevationConfig:{readOnly:!0}},{id:"elevenlabs",name:"ElevenLabs",category:"tool",description:"Text-to-speech with ElevenLabs",docsUrl:"https://elevenlabs.io/docs",fields:[{name:"apiKey",label:"API Key",envVar:"ELEVENLABS_API_KEY",type:"password",required:!0}],elevationConfig:{readOnly:!0}},{id:"deepgram",name:"Deepgram",category:"tool",description:"Speech-to-text with Deepgram",docsUrl:"https://developers.deepgram.com",fields:[{name:"apiKey",label:"API Key",envVar:"DEEPGRAM_API_KEY",type:"password",required:!0}],elevationConfig:{readOnly:!0}},{id:"gmail",name:"Gmail",category:"integration",description:"Gmail read/send via Google OAuth (requires Google Cloud setup)",docsUrl:"https://docs.openclaw.ai/automation/gmail-pubsub",setupInstructions:`‚ö†Ô∏è Requires Google Cloud Console access (often blocked for work accounts)

Personal Gmail:
1. Create project at console.cloud.google.com
2. Enable Gmail API, create OAuth "Desktop app" credentials
3. Download client_secret.json

Then use gogcli:
  brew install steipete/tap/gogcli
  gog auth credentials ~/Downloads/client_secret.json
  gog auth add you@gmail.com

Work/Google Workspace:
  Ask IT admin to provision OAuth credentials or approve the app`,fields:[{name:"account",label:"Gmail Account",envVar:"GMAIL_ACCOUNT",type:"text",placeholder:"you@gmail.com",required:!0,helpText:"The Gmail account to use"},{name:"accessToken",label:"Access Token",envVar:"GMAIL_ACCESS_TOKEN",type:"password",required:!0,helpText:"From: cat ~/.config/gog/accounts/you@gmail.com.json"},{name:"refreshToken",label:"Refresh Token",envVar:"GMAIL_REFRESH_TOKEN",type:"password",required:!0,helpText:"From the same gog account JSON file"},{name:"clientId",label:"Client ID",envVar:"GMAIL_CLIENT_ID",type:"text",required:!0,helpText:"From your OAuth client_secret.json"},{name:"clientSecret",label:"Client Secret",envVar:"GMAIL_CLIENT_SECRET",type:"password",required:!0,helpText:"From your OAuth client_secret.json"}],elevationConfig:{readOnly:!1,defaultTTL:"1h"}},{id:"google-calendar",name:"Google Calendar",category:"integration",description:"Calendar access via Google OAuth (requires Google Cloud setup)",docsUrl:"https://gogcli.sh",setupInstructions:`‚ö†Ô∏è Requires Google Cloud Console access (often blocked for work accounts)

Personal account:
1. Create project at console.cloud.google.com
2. Enable Calendar API, create OAuth "Desktop app" credentials
3. Download client_secret.json

Then use gogcli:
  brew install steipete/tap/gogcli
  gog auth credentials ~/Downloads/client_secret.json
  gog auth add you@gmail.com --services calendar

Work/Google Workspace:
  Ask IT admin to provision OAuth credentials`,fields:[{name:"account",label:"Google Account",envVar:"GOOGLE_CALENDAR_ACCOUNT",type:"text",placeholder:"you@gmail.com",required:!0,helpText:"The Google account to use"},{name:"accessToken",label:"Access Token",envVar:"GOOGLE_CALENDAR_ACCESS_TOKEN",type:"password",required:!0,helpText:"From: cat ~/.config/gog/accounts/you@gmail.com.json"},{name:"refreshToken",label:"Refresh Token",envVar:"GOOGLE_CALENDAR_REFRESH_TOKEN",type:"password",required:!0,helpText:"From the same gog account JSON file"},{name:"clientId",label:"Client ID",envVar:"GOOGLE_CALENDAR_CLIENT_ID",type:"text",required:!0,helpText:"From your OAuth client_secret.json"},{name:"clientSecret",label:"Client Secret",envVar:"GOOGLE_CALENDAR_CLIENT_SECRET",type:"password",required:!0,helpText:"From your OAuth client_secret.json"}],elevationConfig:{readOnly:!0}},{id:"google-chat",name:"Google Chat",category:"channel",description:"Google Chat app via service account",docsUrl:"https://docs.openclaw.ai/channels/googlechat",fields:[{name:"serviceAccountFile",label:"Service Account JSON Path",envVar:"GOOGLE_CHAT_SERVICE_ACCOUNT_FILE",type:"text",placeholder:"~/.openclaw/googlechat-service-account.json",required:!0,helpText:"Path to the downloaded service account JSON file"}],elevationConfig:{readOnly:!1,defaultTTL:"24h"}},{id:"linear",name:"Linear",category:"integration",description:"Issue tracking with Linear",docsUrl:"https://linear.app/docs",fields:[{name:"apiKey",label:"API Key",envVar:"LINEAR_API_KEY",type:"password",required:!0,helpText:"From Linear Settings ‚Üí API ‚Üí Personal API Keys"}],elevationConfig:{readOnly:!1,defaultTTL:"1h"}},{id:"github",name:"GitHub",category:"integration",description:"GitHub API access",docsUrl:"https://docs.github.com/en/rest",fields:[{name:"token",label:"Personal Access Token",envVar:"GITHUB_TOKEN",type:"password",placeholder:"ghp_...",required:!0,helpText:"From GitHub Settings ‚Üí Developer settings ‚Üí Personal access tokens"}],elevationConfig:{readOnly:!1,defaultTTL:"1h"}},{id:"twitter",name:"Twitter / X",category:"integration",description:"Twitter API access",docsUrl:"https://developer.twitter.com/en/docs",fields:[{name:"bearerToken",label:"Bearer Token",envVar:"TWITTER_BEARER_TOKEN",type:"password",required:!1,helpText:"For read-only API access (v2 API)"},{name:"apiKey",label:"API Key",envVar:"TWITTER_API_KEY",type:"password",required:!1,helpText:"Consumer key for OAuth 1.0a"},{name:"apiSecret",label:"API Secret",envVar:"TWITTER_API_SECRET",type:"password",required:!1,helpText:"Consumer secret for OAuth 1.0a"},{name:"accessToken",label:"Access Token",envVar:"TWITTER_ACCESS_TOKEN",type:"password",required:!1,helpText:"User access token for posting"},{name:"accessSecret",label:"Access Token Secret",envVar:"TWITTER_ACCESS_SECRET",type:"password",required:!1,helpText:"User access token secret"}],elevationConfig:{readOnly:!1,defaultTTL:"1h"}},{id:"notion",name:"Notion",category:"integration",description:"Notion API access",docsUrl:"https://developers.notion.com",fields:[{name:"apiKey",label:"Integration Token",envVar:"NOTION_API_KEY",type:"password",placeholder:"secret_...",required:!0,helpText:"From Notion Settings ‚Üí Integrations ‚Üí Develop your own"}],elevationConfig:{readOnly:!1,defaultTTL:"1h"}}],Ot={channel:"Messaging Channels",provider:"AI/LLM Providers",tool:"Tool APIs",integration:"Integrations"};var It=u('<div class="flex items-center justify-center py-12"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"></div></div>'),St=u('<div class="card p-4 bg-red-50 border-red-200"><p class="text-red-700"> </p></div>'),Lt=u('<div class="card p-12 text-center"><div class="text-4xl mb-4">üîë</div> <h3 class="text-lg font-medium text-gray-900">No credentials yet</h3> <p class="mt-2 text-sm text-gray-500">Add your first credential to get started.</p> <button class="btn btn-primary mt-4">Add Credential</button></div>'),Pt=u("<span> <!></span>"),Nt=u('<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-medium text-gray-900"> </div> <div class="text-xs text-gray-500"> </div></td><td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded"> </span></td><td class="px-6 py-4"><div class="flex flex-wrap gap-1"></div></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><button class="text-red-600 hover:text-red-900">Delete</button></td></tr>'),qt=u('<div class="card overflow-hidden"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Service</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Fields</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Updated</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div>'),Gt=u('<button class="text-gray-400 hover:text-gray-600" aria-label="Go back"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button>'),Kt=u('<button class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 text-left transition-colors"><div class="flex-1"><div class="font-medium text-gray-900"> </div> <div class="text-xs text-gray-500"> </div></div> <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>'),Vt=u('<div><h3 class="text-sm font-medium text-gray-500 mb-3"> </h3> <div class="grid grid-cols-2 gap-2"></div></div>'),Dt=u('<div class="space-y-6"><div class="p-3 bg-gray-50 border border-gray-200 rounded-lg flex items-center justify-between"><span class="text-sm text-gray-600">Looking for a different integration?</span> <a href="https://docs.openclaw.ai/channels" target="_blank" rel="noopener" class="text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1">View all OpenClaw integrations <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></div> <!> <div><h3 class="text-sm font-medium text-gray-500 mb-3">Other</h3> <button class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 text-left transition-colors w-full"><div class="flex-1"><div class="font-medium text-gray-900">Custom Credential</div> <div class="text-xs text-gray-500">For services not listed above</div></div> <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div></div>'),Rt=u('<div class="p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm"> </div>'),Ut=u('<div class="p-3 bg-blue-50 border border-blue-200 rounded"><p class="text-sm text-blue-700">üìñ <a target="_blank" rel="noopener" class="underline hover:no-underline">View setup documentation</a></p></div>'),Mt=u('<div class="p-4 bg-amber-50 border border-amber-200 rounded"><h4 class="text-sm font-medium text-amber-800 mb-2">‚öôÔ∏è Setup Steps</h4> <pre class="text-xs text-amber-700 whitespace-pre-wrap font-mono"> </pre></div>'),Ft=u('<span class="text-red-500">*</span>'),Bt=u('<textarea class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500" rows="3"></textarea>'),jt=u('<input class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"/>'),Wt=u('<p class="mt-1 text-xs text-gray-500"> </p>'),Yt=u('<div><label class="block text-sm font-medium text-gray-700 mb-1"> <!></label> <!> <!></div>'),Ht=u("<!> <!> <!>",1),Jt=u('<div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1" for="customService">Service ID <span class="text-red-500">*</span></label> <input id="customService" type="text" placeholder="my-service" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="customDisplayName">Display Name <span class="text-red-500">*</span></label> <input id="customDisplayName" type="text" placeholder="My Service" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"/></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="customEnvVar">Environment Variable <span class="text-red-500">*</span></label> <input id="customEnvVar" type="text" placeholder="MY_SERVICE_API_KEY" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"/> <p class="mt-1 text-xs text-gray-500">The env var name that will be injected into the Gateway</p></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="customToken">Token/Secret</label> <input id="customToken" type="password" placeholder="Enter token or secret..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"/></div>',1),zt=u('<div class="mt-2"><label class="text-xs text-gray-500" for="defaultTTL">Default TTL</label> <select id="defaultTTL" class="ml-2 text-sm border-gray-300 rounded"><option>15 minutes</option><option>30 minutes</option><option>1 hour</option><option>2 hours</option><option>4 hours</option><option>8 hours</option><option>24 hours</option></select></div>'),Qt=u('<div class="space-y-6"><!> <!> <div class="border-t border-gray-200 pt-6"><h3 class="text-sm font-medium text-gray-700 mb-3">Access Control</h3> <div class="space-y-3"><label class="flex items-start gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50"><input type="radio" name="elevationMode" class="mt-0.5"/> <div><div class="font-medium text-gray-900">Permanent Access</div> <div class="text-sm text-gray-500">Agent can always use this credential (good for read-only APIs)</div></div></label> <label class="flex items-start gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50"><input type="radio" name="elevationMode" class="mt-0.5"/> <div class="flex-1"><div class="font-medium text-gray-900">Requires Approval</div> <div class="text-sm text-gray-500">Agent must request access, you approve with a time limit</div> <!></div></label></div></div></div>'),Xt=u('<div class="px-6 py-4 border-t border-gray-200 flex justify-end gap-3"><button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary"> </button></div>'),Zt=u('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"><div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between"><div class="flex items-center gap-3"><!> <h2 class="text-lg font-semibold text-gray-900"><!></h2></div> <button class="text-gray-400 hover:text-gray-600" aria-label="Close"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-6"><!></div> <!></div></div>'),$t=u('<div class="space-y-6"><div class="flex items-center justify-between"><h1 class="text-2xl font-bold text-gray-900">Credentials</h1> <button class="btn btn-primary">Add Credential</button></div> <!></div> <!>',1);function da(Ye,He){gt(He,!1);const De=f(),Re=[];let ye=f([]),Ce=f(!0),fe=f(""),Ee=f(!1),G=f("select"),p=f(null),B=f(!1),xe=f(!1),j=f(""),S=f({}),L=f("permanent"),$=f("1h"),oe=f(""),se=f(""),ne=f(""),be=f("");ht(async()=>{await Oe()});async function Oe(){r(Ce,!0),r(fe,"");try{r(ye,await we.listCredentials())}catch(n){r(fe,n instanceof Error?n.message:"Failed to load credentials")}finally{r(Ce,!1)}}async function Je(n){if(confirm(`Delete credential "${n}"? This cannot be undone.`))try{await we.deleteCredential(n),await Oe()}catch(d){alert(d instanceof Error?d.message:"Failed to delete")}}function ze(n){return new Date(n).toLocaleDateString()}function Ue(){r(Ee,!0),r(G,"select"),r(p,null),r(B,!1),r(S,{}),r(j,"")}function Ie(){r(Ee,!1),r(G,"select"),r(p,null),r(B,!1),r(S,{}),r(oe,""),r(se,""),r(ne,""),r(be,""),r(j,"")}function Qe(n){var d,v;r(p,n),r(B,!1),r(G,"configure"),r(S,{}),(d=n.elevationConfig)!=null&&d.readOnly?r(L,"permanent"):(r(L,"approval"),r($,((v=n.elevationConfig)==null?void 0:v.defaultTTL)||"1h"))}function Xe(){r(p,null),r(B,!0),r(G,"configure"),r(L,"approval"),r($,"1h")}function Ze(){r(G,"select"),r(p,null),r(B,!1)}async function $e(){r(xe,!0),r(j,"");try{if(e(B)){if(!e(oe)||!e(se)||!e(ne)){r(j,"Service ID, Display Name, and Env Var are required");return}await we.createCredential({service:e(oe),displayName:e(se),type:"custom",scopes:{default:{envVar:e(ne),token:e(be),permanent:e(L)==="permanent",requiresApproval:e(L)==="approval",maxTTL:e($)}}})}else if(e(p)){const n=e(p).fields.filter(v=>v.required&&!e(S)[v.name]).map(v=>v.label);if(n.length>0){r(j,`Required fields: ${n.join(", ")}`);return}const d={};for(const v of e(p).fields)e(S)[v.name]&&(d[v.name]={envVar:v.envVar,token:e(S)[v.name],permanent:e(L)==="permanent",requiresApproval:e(L)==="approval",maxTTL:e($)});await we.createCredential({service:e(p).id,displayName:e(p).name,type:e(p).category,scopes:d})}Ie(),await Oe()}catch(n){r(j,n instanceof Error?n.message:"Failed to save credential")}finally{r(xe,!1)}}yt(()=>We,()=>{r(De,Object.entries(Ot).map(([n,d])=>({category:n,label:d,templates:We.filter(v=>v.category===n)})))}),ft(),mt();var Me=$t();wt("bcpq9l",n=>{bt(()=>{_t.title="Credentials - OCM"})});var Se=Ke(Me),Le=a(Se),et=o(a(Le),2);t(Le);var tt=o(Le,2);{var at=n=>{var d=It();i(n,d)},rt=n=>{var d=St(),v=a(d),W=a(v,!0);t(v),t(d),C(()=>_(W,e(fe))),i(n,d)},ot=n=>{var d=Lt(),v=o(a(d),6);t(d),F("click",v,Ue),i(n,d)},st=n=>{var d=qt(),v=a(d),W=o(a(v));ge(W,5,()=>e(ye),he,(le,k)=>{var ie=Nt(),ee=a(ie),de=a(ee),Pe=a(de,!0);t(de);var _e=o(de,2),Ne=a(_e,!0);t(_e),t(ee);var ce=o(ee),te=a(ce),qe=a(te,!0);t(te),t(ce);var pe=o(ce),Te=a(pe);ge(Te,5,()=>(e(k),l(()=>Object.entries(e(k).scopes||{}))),he,(P,N)=>{var V=Tt(()=>kt(e(N),2));let ae=()=>e(V)[0],E=()=>e(V)[1];var q=Pt(),D=a(q),z=o(D);{var R=Y=>{var O=Ae("‚ö°");i(Y,O)};T(z,Y=>{E(),l(()=>!E().permanent)&&Y(R)})}t(q),C(()=>{Ct(q,1,`px-2 py-0.5 text-xs rounded ${E(),l(()=>E().permanent?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700")??""}`),_(D,`${E(),ae(),l(()=>E().envVar||ae())??""} `)}),i(P,q)}),t(Te),t(pe);var ve=o(pe),Ge=a(ve,!0);t(ve);var c=o(ve),m=a(c);t(c),t(ie),C(P=>{_(Pe,(e(k),l(()=>e(k).displayName))),_(Ne,(e(k),l(()=>e(k).service))),_(qe,(e(k),l(()=>e(k).type))),_(Ge,P)},[()=>(e(k),l(()=>ze(e(k).updatedAt)))]),F("click",m,()=>Je(e(k).service)),i(le,ie)}),t(W),t(v),t(d),i(n,d)};T(tt,n=>{e(Ce)?n(at):e(fe)?n(rt,1):(e(ye),l(()=>e(ye).length===0)?n(ot,2):n(st,!1))})}t(Se);var nt=o(Se,2);{var lt=n=>{var d=Zt(),v=a(d),W=a(v),le=a(W),k=a(le);{var ie=c=>{var m=Gt();F("click",m,Ze),i(c,m)};T(k,c=>{e(G)==="configure"&&c(ie)})}var ee=o(k,2),de=a(ee);{var Pe=c=>{var m=Ae("Add Credential");i(c,m)},_e=c=>{var m=Ae("Custom Credential");i(c,m)},Ne=c=>{var m=Ae();C(()=>_(m,(e(p),l(()=>e(p).name)))),i(c,m)};T(de,c=>{e(G)==="select"?c(Pe):e(B)?c(_e,1):e(p)&&c(Ne,2)})}t(ee),t(le);var ce=o(le,2);t(W);var te=o(W,2),qe=a(te);{var pe=c=>{var m=Dt(),P=o(a(m),2);ge(P,1,()=>e(De),he,(ae,E)=>{var q=Vt(),D=a(q),z=a(D,!0);t(D);var R=o(D,2);ge(R,5,()=>(e(E),l(()=>e(E).templates)),he,(Y,O)=>{var Q=Kt(),ke=a(Q),ue=a(ke),g=a(ue,!0);t(ue);var x=o(ue,2),A=a(x,!0);t(x),t(ke),Ve(2),t(Q),C(()=>{_(g,(e(O),l(()=>e(O).name))),_(A,(e(O),l(()=>e(O).description)))}),F("click",Q,()=>Qe(e(O))),i(Y,Q)}),t(R),t(q),C(()=>_(z,(e(E),l(()=>e(E).label)))),i(ae,q)});var N=o(P,2),V=o(a(N),2);t(N),t(m),F("click",V,Xe),i(c,m)},Te=c=>{var m=Qt(),P=a(m);{var N=g=>{var x=Rt(),A=a(x,!0);t(x),C(()=>_(A,e(j))),i(g,x)};T(P,g=>{e(j)&&g(N)})}var V=o(P,2);{var ae=g=>{var x=Ht(),A=Ke(x);{var U=y=>{var s=Ut(),b=a(s),I=o(a(b));t(b),t(s),C(()=>Z(I,"href",(e(p),l(()=>e(p).docsUrl)))),i(y,s)};T(A,y=>{e(p),l(()=>e(p).docsUrl)&&y(U)})}var M=o(A,2);{var H=y=>{var s=Mt(),b=o(a(s),2),I=a(b,!0);t(b),t(s),C(()=>_(I,(e(p),l(()=>e(p).setupInstructions)))),i(y,s)};T(M,y=>{e(p),l(()=>e(p).setupInstructions)&&y(H)})}var J=o(M,2);ge(J,1,()=>(e(p),l(()=>e(p).fields)),he,(y,s)=>{var b=Yt(),I=a(b),K=a(I),it=o(K);{var dt=w=>{var h=Ft();i(w,h)};T(it,w=>{e(s),l(()=>e(s).required)&&w(dt)})}t(I);var Fe=o(I,2);{var ct=w=>{var h=Bt();At(h),C(()=>{Z(h,"id",(e(s),l(()=>e(s).name))),Z(h,"placeholder",(e(s),l(()=>e(s).placeholder)))}),re(h,()=>e(S)[e(s).name],me=>Be(S,e(S)[e(s).name]=me)),i(w,h)},pt=w=>{var h=jt();X(h),C(()=>{Z(h,"id",(e(s),l(()=>e(s).name))),Z(h,"type",(e(s),l(()=>e(s).type))),Z(h,"placeholder",(e(s),l(()=>e(s).placeholder)))}),re(h,()=>e(S)[e(s).name],me=>Be(S,e(S)[e(s).name]=me)),i(w,h)};T(Fe,w=>{e(s),l(()=>e(s).type==="textarea")?w(ct):w(pt,!1)})}var vt=o(Fe,2);{var ut=w=>{var h=Wt(),me=a(h,!0);t(h),C(()=>_(me,(e(s),l(()=>e(s).helpText)))),i(w,h)};T(vt,w=>{e(s),l(()=>e(s).helpText)&&w(ut)})}t(b),C(()=>{Z(I,"for",(e(s),l(()=>e(s).name))),_(K,`${e(s),l(()=>e(s).label)??""} `)}),i(y,b)}),i(g,x)},E=g=>{var x=Jt(),A=Ke(x),U=a(A),M=o(a(U),2);X(M),t(U);var H=o(U,2),J=o(a(H),2);X(J),t(H),t(A);var y=o(A,2),s=o(a(y),2);X(s),Ve(2),t(y);var b=o(y,2),I=o(a(b),2);X(I),t(b),re(M,()=>e(oe),K=>r(oe,K)),re(J,()=>e(se),K=>r(se,K)),re(s,()=>e(ne),K=>r(ne,K)),re(I,()=>e(be),K=>r(be,K)),i(g,x)};T(V,g=>{e(p)?g(ae):e(B)&&g(E,1)})}var q=o(V,2),D=o(a(q),2),z=a(D),R=a(z);X(R),R.value=R.__value="permanent",Ve(2),t(z);var Y=o(z,2),O=a(Y);X(O),O.value=O.__value="approval";var Q=o(O,2),ke=o(a(Q),4);{var ue=g=>{var x=zt(),A=o(a(x),2),U=a(A);U.value=U.__value="15m";var M=o(U);M.value=M.__value="30m";var H=o(M);H.value=H.__value="1h";var J=o(H);J.value=J.__value="2h";var y=o(J);y.value=y.__value="4h";var s=o(y);s.value=s.__value="8h";var b=o(s);b.value=b.__value="24h",t(A),t(x),Et(A,()=>e($),I=>r($,I)),i(g,x)};T(ke,g=>{e(L)==="approval"&&g(ue)})}t(Q),t(Y),t(D),t(q),t(m),je(Re,[],R,()=>e(L),g=>r(L,g)),je(Re,[],O,()=>e(L),g=>r(L,g)),i(c,m)};T(qe,c=>{e(G)==="select"?c(pe):e(G)==="configure"&&c(Te,1)})}t(te);var ve=o(te,2);{var Ge=c=>{var m=Xt(),P=a(m),N=o(P,2),V=a(N,!0);t(N),t(m),C(()=>{N.disabled=e(xe),_(V,e(xe)?"Saving...":"Save Credential")}),F("click",P,Ie),F("click",N,$e),i(c,m)};T(ve,c=>{e(G)==="configure"&&c(Ge)})}t(v),t(d),F("click",ce,Ie),i(n,d)};T(nt,n=>{e(Ee)&&n(lt)})}F("click",et,Ue),i(Ye,Me),xt()}export{da as component};
